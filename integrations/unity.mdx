---
title: "Unity Plugin"
description: "Install the NPC Builder SDK and chat with NPCs in Unity"
---

<Info>
The NPC Builder Unity package lets you import a single <code>.unitypackage</code>, configure API credentials, then script AI-powered NPC conversations with one component.
</Info>

## Prerequisites

* Unity **2020.3 LTS** or higher (2019.4 works but examples use the new Input System).
* NPC Builder account with an **active plan** and project.
* Client ID / Client Secret (or Bearer token) generated in **Developers → API Keys**.
* Basic familiarity with C# scripting in Unity.

## 1 · Installation

<Steps>
<Step title="Download package">
  Get the <strong>NPC Builder</strong> `.unitypackage` from the Asset Store (or company download link).
</Step>

<Step title="Import into Unity">
  In the Unity Editor choose  
  **Assets → Import Package → Custom Package** and select the downloaded file.  
  Click <em>Import</em> when Unity shows the file list.
</Step>
</Steps>

## 2 · Configure credentials

A ready-made <code>config.json</code> lives at <code>Assets/NPCBuilder/config.json</code>. Edit the placeholders:
![unity-1](/media/unity-1.png)

<Note>
  For credentials management refer to: <a href="/api-reference/authentication">authentication</a>
</Note>
```json
{
  "clientId": "YOUR_CLIENT_ID",
  "clientSecret": "YOUR_CLIENT_SECRET",
  "bearerToken": "YOUR_BEARER_TOKEN"
}
```

* Client ID + Secret is the preferred long-term auth.  
* Bearer token is an alternative for quick tests.  
* If both are present the plugin prioritizes the secret.  

<Callout type="warning">
Keep credentials out of public repos. Use Unity’s **Secrets Manager** or CI variables for production builds.
</Callout>

## 3 · Attach the component

Drag your NPC prefab into the scene and add **NPCBuilderInteractions** via the Inspector.  
Fill <code>Game ID</code>, <code>World ID</code>, and <code>character_name</code>—all visible in the dashboard context tree.

## 4 · Minimal chat script

```csharp
using UnityEngine;
using NPCBuilder;

public class ChatStarter : MonoBehaviour
{
    NPCBuilderInteractions npc;

    void Awake()
    {
        npc = GetComponent<NPCBuilderInteractions>();
        npc.OnMessageReceived += OnReply;
        npc.StartInteraction(ConversationRole.User, "Hello NPC!");
    }

    void OnReply(System.Collections.Generic.List<Message> convo)
    {
        Debug.Log(npc.GetConversationString());
    }

    void Update()
    {
        if (Input.GetKeyDown(KeyCode.V))
            npc.StartInteraction(ConversationRole.User, "How are you?");
        if (Input.GetKeyDown(KeyCode.C))
            npc.ClearConversation();
    }
}
```

The component queues calls asynchronously, so gameplay never blocks.

## 5 · Working with events

NPC replies can include <code>character_events</code> or <code>user_events</code>.  
Create **Action** or **Item** events in the dashboard (globally or per character), then reference them exactly in Unity:

```csharp
// Map item events to GameObjects
npc.getGameObjectAssociatedToEvent += go =>
{
    if (go != null)
        Debug.Log($"Event item prefab set to {go.name}");
};
```

| Event Type | Purpose | Example |
|------------|---------|---------|
| Action     | No item; pure verb | <code>wave</code>, <code>bow</code> |
| Item       | Includes an item   | <code>give_sword</code>, <code>trade_potion</code> |

<Note>
Need more endpoints? Explore <a href="/api-reference/introduction">OpenAPI</a> or see <a href="/context-api-reference">Context API</a> for UID details.
</Note>
